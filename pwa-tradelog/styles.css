:root{
  --bg0:#070b14;
  --bg1:#0b1220;
  --card:rgba(255,255,255,.06);
  --card2:rgba(255,255,255,.08);
  --txt:#eaf0ff;
  --muted:rgba(234,240,255,.68);
  --muted2:rgba(234,240,255,.52);
  --stroke:rgba(255,255,255,.10);
  --shadow: 0 14px 40px rgba(0,0,0,.45);
  --radius: 18px;
  --primary:#6ea8ff;
  --danger:#ff6b7a;
  --ok:#63e6be;
  --warn:#ffd43b;
  --safeAreaTop: env(safe-area-inset-top);
  --safeAreaBottom: env(safe-area-inset-bottom);
  --safeAreaLeft: env(safe-area-inset-left);
  --safeAreaRight: env(safe-area-inset-right);
}

@media (prefers-color-scheme: light){
  :root{
    --bg0:#f4f7ff;
    --bg1:#eef3ff;
    --card:rgba(0,0,0,.045);
    --card2:rgba(0,0,0,.06);
    --txt:#0b1220;
    --muted:rgba(11,18,32,.65);
    --muted2:rgba(11,18,32,.5);
    --stroke:rgba(0,0,0,.09);
    --shadow: 0 14px 40px rgba(15,25,55,.12);
    --primary:#2f6df6;
    --danger:#e03131;
    --ok:#0ca678;
    --warn:#f59f00;
  }
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "PingFang SC","Hiragino Sans GB","Microsoft Yahei", Arial, sans-serif;
  background: radial-gradient(1200px 800px at 30% -10%, rgba(110,168,255,.35), transparent 60%),
              radial-gradient(900px 700px at 110% 20%, rgba(99,230,190,.25), transparent 60%),
              linear-gradient(180deg, var(--bg1), var(--bg0));
  color:var(--txt);
  -webkit-font-smoothing: antialiased;
  overflow-x:hidden;
}

.app{
  min-height:100%;
  padding: calc(10px + var(--safeAreaTop)) calc(12px + var(--safeAreaRight)) calc(76px + var(--safeAreaBottom)) calc(12px + var(--safeAreaLeft));
  max-width: 720px;
  margin:0 auto;
}

.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding: 10px 4px 14px;
}

.brand{display:flex;align-items:center;gap:12px}
.logo{
  width:42px;height:42px;border-radius:14px;
  display:grid;place-items:center;
  background: linear-gradient(135deg, rgba(110,168,255,.9), rgba(99,230,190,.75));
  color:#07101d;
  font-weight:800;
  box-shadow: var(--shadow);
}
.title h1{margin:0;font-size:18px;line-height:1.1}
.title p{margin:3px 0 0;font-size:12px;color:var(--muted)}

.iconbtn{
  width:42px;height:42px;border-radius:14px;
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.05);
  color:var(--txt);
  display:grid;place-items:center;
  box-shadow: 0 10px 25px rgba(0,0,0,.18);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.content{display:flex;flex-direction:column;gap:12px}

.card{
  border:1px solid var(--stroke);
  background: linear-gradient(180deg, var(--card2), var(--card));
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  padding:14px;
}

.cardHead{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
  margin-bottom:12px;
}
.cardHead h2{margin:0;font-size:14px;color:var(--muted)}
.chips{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end}
.chip{
  font-size:12px;
  color:var(--muted);
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.05);
  padding:6px 10px;
  border-radius: 999px;
}

.stats{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:10px;
}
.stat{
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.05);
  border-radius: 16px;
  padding:10px;
}
.stat .k{font-size:11px;color:var(--muted2)}
.stat .v{font-size:18px;font-weight:800;margin-top:4px}
.stat .v.ok{color:var(--ok)}

.actions{display:flex;align-items:center;gap:10px}

.btn{
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.06);
  color: var(--txt);
  padding:10px 12px;
  border-radius: 14px;
  font-weight:700;
  font-size:14px;
  touch-action: manipulation;
}
.btn.primary{
  border-color: rgba(110,168,255,.45);
  background: rgba(110,168,255,.18);
}
.btn.ghost{background: transparent}
.btn.danger{
  border-color: rgba(255,107,122,.55);
  color: var(--danger);
  background: rgba(255,107,122,.08);
}

.search{
  width: 170px;
  max-width: 45vw;
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.05);
  color: var(--txt);
  border-radius: 14px;
  padding:10px 12px;
  font-size:14px;
  outline:none;
}

.tableWrap{min-height: 64px}
.table{display:flex;flex-direction:column;gap:8px}
.hrow{
  display:flex;align-items:center;justify-content:space-between;
  gap:10px;
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.05);
  border-radius:16px;
  padding:10px;
}
.hleft{display:flex;flex-direction:column;gap:3px}
.sym{font-weight:900;letter-spacing:.2px}
.meta{font-size:12px;color:var(--muted)}
.hright{text-align:right}
.badge{
  display:inline-flex;align-items:center;gap:6px;
  font-size:12px;
  padding:5px 9px;border-radius:999px;
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.05);
  color:var(--muted);
}
.badge.ok{color:var(--ok)}
.badge.warn{color:var(--warn)}
.badge.danger{color:var(--danger)}

.list{display:flex;flex-direction:column;gap:10px}
.item{
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.05);
  border-radius: 18px;
  padding:12px;
  display:flex;
  gap:12px;
  align-items:flex-start;
}
.pill{
  min-width: 54px;
  height: 36px;
  border-radius: 14px;
  display:grid;place-items:center;
  font-weight:900;
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.06);
}
.pill.buy{color:var(--ok)}
.pill.sell{color:var(--danger)}
.itemMain{flex:1}
.itemTop{display:flex;align-items:center;justify-content:space-between;gap:10px}
.itemTop .code{font-weight:900;font-size:16px}
.itemTop .amt{font-weight:800}
.itemSub{margin-top:6px;color:var(--muted);font-size:12px;display:flex;gap:10px;flex-wrap:wrap}
.itemNote{margin-top:8px;color:var(--muted);font-size:13px}
.itemBtns{display:flex;gap:8px}
.smallBtn{
  border:1px solid var(--stroke);
  background: transparent;
  color: var(--muted);
  border-radius: 14px;
  padding:8px 10px;
  font-weight:800;
}

.empty{
  padding:14px;
  border:1px dashed var(--stroke);
  border-radius: 18px;
  background: rgba(255,255,255,.03);
}
.emptyTitle{font-weight:900}
.emptySub{margin-top:6px;color:var(--muted);font-size:13px}

.footnote{
  padding: 0 6px 10px;
  color: var(--muted2);
  font-size:12px;
}

.tabbar{
  position:fixed;
  left:0; right:0;
  bottom:0;
  padding: 10px calc(12px + var(--safeAreaRight)) calc(10px + var(--safeAreaBottom)) calc(12px + var(--safeAreaLeft));
  display:flex;
  gap:10px;
  justify-content:center;
  background: linear-gradient(180deg, transparent, rgba(0,0,0,.30));
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}
@media (prefers-color-scheme: light){
  .tabbar{background: linear-gradient(180deg, transparent, rgba(255,255,255,.65));}
}

.tab{
  flex:1;
  max-width: 220px;
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.06);
  color: var(--muted);
  padding: 12px 14px;
  border-radius: 16px;
  font-weight:900;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
}
.tab.active{color:var(--txt)}
.dot{
  width:8px;height:8px;border-radius:99px;
  background: rgba(110,168,255,.85);
  box-shadow: 0 0 0 6px rgba(110,168,255,.15);
}

/* Sheet */
.sheet{
  position:fixed; inset:0;
  display:none;
  padding: 12px;
  z-index: 50;
}
.sheet.show{display:block}
.sheetBackdrop{
  position:absolute; inset:0;
  background: rgba(0,0,0,.45);
}
.sheetPanel{
  position:absolute;
  left:12px; right:12px;
  bottom: calc(12px + var(--safeAreaBottom));
  border-radius: 22px;
  border:1px solid var(--stroke);
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
  box-shadow: var(--shadow);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  padding: 14px;
  max-width: 720px;
  margin: 0 auto;
}
.sheetHead{
  display:flex;align-items:flex-start;justify-content:space-between;gap:12px;
  margin-bottom:10px;
}
.sheetTitle{font-size:16px;font-weight:900}
.sheetSub{margin-top:4px;color:var(--muted);font-size:12px}

.form{display:flex;flex-direction:column;gap:10px}
.row2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}
@media (max-width: 380px){
  .row2{grid-template-columns: 1fr}
  .search{width: 100%; max-width: 100%;}
  .stats{grid-template-columns: 1fr}
}

.field{
  display:flex;flex-direction:column;gap:6px;
}
.field span{font-size:12px;color:var(--muted)}
.field input{
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.05);
  color: var(--txt);
  border-radius: 14px;
  padding: 11px 12px;
  font-size: 14px;
  outline:none;
}

.seg{
  display:flex;
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.05);
  border-radius: 14px;
  overflow:hidden;
}
.segBtn{
  flex:1;
  padding:10px 0;
  background: transparent;
  border:0;
  color: var(--muted);
  font-weight:900;
}
.segBtn.active{
  color: var(--txt);
  background: rgba(110,168,255,.16);
}

.sheetActions{
  display:flex;
  align-items:center;
  gap:10px;
  margin-top: 6px;
}
.spacer{flex:1}
.error{
  border:1px solid rgba(255,107,122,.45);
  background: rgba(255,107,122,.10);
  color: var(--danger);
  border-radius: 16px;
  padding: 10px 12px;
  font-weight:700;
  font-size: 13px;
}

/* Settings */
.settingsList{display:flex;flex-direction:column;gap:10px}
.settingItem{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  text-align:left;
  border:1px solid var(--stroke);
  background: rgba(255,255,255,.05);
  color: var(--txt);
  border-radius: 18px;
  padding: 12px;
}
.settingTitle{font-weight:900}
.settingSub{margin-top:4px;color:var(--muted);font-size:12px}
.settingItem.danger{border-color: rgba(255,107,122,.35)}
.settingItem.danger .settingTitle{color: var(--danger)}
.fileLabel{cursor:pointer}
.chev{font-size:20px;color:var(--muted)}
.settingsFoot{margin-top:10px;color:var(--muted2);font-size:12px;padding: 0 2px}

